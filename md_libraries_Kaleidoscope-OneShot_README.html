<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Kaleidoscope: Kaleidoscope-OneShot</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kaleidoscope
   </div>
   <div id="projectbrief">Customizable firmware for keyboards</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Kaleidoscope-OneShot </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<img src="https://img.shields.io/badge/stable-âœ”-black.svg?style=flat&colorA=44cc11&colorB=494e52"  alt="status"/>
</div>
<p> <a href="https://travis-ci.org/keyboardio/Kaleidoscope-OneShot">![Build Status][travis:image]</a></p>
<p>One-shots are a new kind of behaviour for your standard modifier and momentary layer keys: instead of having to hold them while pressing other keys, they can be tapped and released, and will remain active until any other key is pressed. In short, they turn <code>Shift, A</code> into <code>Shift+A</code>, and <code>Fn, 1</code> to <code>Fn+1</code>. The main advantage is that this allows us to place the modifiers and layer keys to positions that would otherwise be awkward when chording. Nevertheless, they still act as normal when held, that behaviour is not lost.</p>
<p>Furthermore, if a one-shot key is tapped two times in quick succession, it becomes sticky, and remains active until disabled with a third tap. This can be useful when one needs to input a number of keys with the modifier or layer active, and still does not wish to hold the key down. If this feature is undesirable, unset the <code>OneShot.double_tap_sticky</code> property (see later).</p>
<p>To make multi-modifier, or multi-layer shortcuts possible, one-shot keys remain active if another one-shot of the same type is tapped, so <code>Ctrl, Alt, b</code> becomes <code>Ctrl+Alt+b</code>, and <code>L1, L2, c</code> is turned into <code>L1+L2+c</code>. Furthermore, modifiers and other layer keys do not cancel the one-shot effect, either.</p>
<h2>Using the plugin</h2>
<p>After adding one-shot keys to the keymap, all one needs to do, is enable the plugin:</p>
<p>```c++ #include &lt;<a class="el" href="Kaleidoscope_8h_source.html">Kaleidoscope.h</a>&gt; #include &lt;<a class="el" href="Kaleidoscope-OneShot_8h_source.html">Kaleidoscope-OneShot.h</a>&gt; #include &lt;<a class="el" href="hid_8h_source.html">kaleidoscope/hid.h</a>&gt;</p>
<p>// somewhere in the keymap... OSM(LeftControl), OSL(_FN)</p>
<p>void setup() { Kaleidoscope.use(&amp;OneShot);</p>
<p>Kaleidoscope.setup(); } ```</p>
<h2>Keymap markup</h2>
<p>There are two macros the plugin provides:</p>
<h3><code>OSM(mod)</code></h3>
<blockquote class="doxtable">
<p>A macro that takes a single argument, the name of the modifier: <code>LeftControl</code>, <code>LeftShift</code>, <code>LeftAlt</code>, <code>LeftGui</code> or their right-side variant. When marked up with this macro, the modifier will act as a one-shot modifier.</p>
<p></p>
</blockquote>
<h3><code>OSL(layer)</code></h3>
<blockquote class="doxtable">
<p>Takes a layer number as argument, and sets up the key to act as a one-shot layer key.</p>
<p>Please note that while <code>Kaleidoscope</code> supports more, one-shot layers are limited to 8 layers only.</p>
<p></p>
</blockquote>
<h2>Plugin methods</h2>
<p>The plugin provides one object, <code>OneShot</code>, which implements both one-shot modifiers and one-shot layer keys. It has the following methods:</p>
<h3><code>.isActive()</code></h3>
<blockquote class="doxtable">
<p>Returns if any one-shot key is in flight. This makes it possible to differentiate between having a modifier or layer active, versus having them active only until after the next key getting pressed. And this, in turn, is useful for macros that need to fiddle with either modifier or layer state: if one-shots are not active, they need not restore the original state.</p>
<p></p>
</blockquote>
<h3><code>.isSticky(key)</code></h3>
<blockquote class="doxtable">
<p>Returns if the key is currently sticky.</p>
<p></p>
</blockquote>
<h3><code>.isModifierActive(key)</code></h3>
<blockquote class="doxtable">
<p>Returns if the modifier <code>key</code> has a one-shot state active. Use this together with <code>hid::isModifierKeyActive</code> to catch cases where a one-shot modifier is active, but not registered yet.</p>
<p></p>
</blockquote>
<h3><code>.cancel([with_stickies])</code></h3>
<blockquote class="doxtable">
<p>The <code>cancel()</code> method can be used to cancel any pending one-shot effects, useful when one changed their minds, and does not wish to wait for the timeout.</p>
<p>The optional <code>with_stickies</code> argument, if set to <code>true</code>, will also cancel sticky one-shot effects. If omitted, it defaults to <code>false</code>, and not canceling stickies.</p>
<p></p>
</blockquote>
<h2>Plugin properties</h2>
<p>Along with the methods listed above, the <code>OneShot</code> object has the following properties too:</p>
<h3><code>.time_out</code></h3>
<blockquote class="doxtable">
<p>Set this property to the number of milliseconds to wait before timing out and cancelling the one-shot effect (unless interrupted or cancelled before by any other means).</p>
<p>Defaults to 2500.</p>
<p></p>
</blockquote>
<h3><code>.hold_time_out</code></h3>
<blockquote class="doxtable">
<p>Set this property to the number of milliseconds to wait before considering a held one-shot key as intentionally held. In this case, the one-shot effect will not trigger when the key is released. In other words, holding a one-shot key at least this long, and then releasing it, will not trigger the one-shot effect.</p>
<p>Defaults to 200.</p>
<p></p>
</blockquote>
<h3><code>.double_tap_sticky</code></h3>
<blockquote class="doxtable">
<p>Set this boolean property to make the plugin treat a double-tap of a one-shot key as making it sticky until a third tap. Setting it to <code>false</code> disables this behaviour, in which case double-tapping a one-shot modifier will just restart the timer.</p>
<p>Defaults to <code>true</code>.</p>
<p></p>
</blockquote>
<h2>Dependencies</h2>
<ul>
<li><a href="https://github.com/keyboardio/Kaleidoscope-Ranges">Kaleidoscope-Ranges</a></li>
</ul>
<h2>Further reading</h2>
<p>Starting from the <a href="https://github.com/keyboardio/Kaleidoscope-OneShot/blob/master/examples/OneShot/OneShot.ino">example</a> is the recommended way of getting started with the plugin. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
